<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <script>
        const promiseSetTimeout = (status) => {
            return new Promise((resolve, reject) => {
                setTimeout(() => {
                    if (status) {
                        resolve('promiseSetTimeout 成功')
                    } else {
                        reject('promiseSetTimeout 失敗')
                    }
                }, 1000);
            })
        }

        // promiseSetTimeout(true)
        //     .then(res => {
        //         console.log(res);
        //     })

            //     promiseSetTimeout(true)
            // .then(res => {
            //     console.log(1, res);
            //     return promiseSetTimeout(true)
            // })
            // .then(res =>{
            //     console.log(2, res);
            // })

            // promiseSetTimeout(false)
            // .then(res => {
            //     console.log(res);
            // })
            // .catch(err =>{ // 參數的名稱是可以自訂的
            //     console.log(err) 
            // })

            
                const component = {
                    data:{},
                    data1:{},
                    init() {
                        console.log(this);
                        promiseSetTimeout(true)
                        .then(res =>{
                            this.data.res = res;
                            console.log(this.data)
                            return promiseSetTimeout(true)
                        })
                        promiseSetTimeout(false)
                        .then(res2=>{
                            this.data1.res2=res2;
                            console.log(this.data1)
                        })
                        .catch(err => {
                            this.data1.err=err;
                            console.log(this.data1)
                            return promiseSetTimeout(false)
                        })
                        promiseSetTimeout(false)
                        .then(res2=>{
                            this.data1.res2=res2;
                            console.log(this.data1)
                        })
                        .catch(err => {
                            this.data1.err=err;
                            console.log(this.data1)
                        })
                    }
                }
                component.init();
    </script>
</body>

</html>